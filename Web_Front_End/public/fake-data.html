<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
</head>

<body>
  <h1>Đang fake ......</h1>
  <p>Nếu bạn ở đây, nghĩa là bạn đang không ủng hộ hàng thật</p>
  <script>
    function getRndInteger(min, max) {
      return Math.floor(Math.random() * (max - min)) + min;
    }
    
    setInterval(() => {
      const xhr = new XMLHttpRequest();
      xhr.open("POST", "http://localhost/api/fakedata", true);
      xhr.setRequestHeader("Content-Type", "application/json");
      xhr.setRequestHeader("user_id", "215226482152149021522077");
      xhr.onreadystatechange = function () {
        if (xhr.readyState === 4 && xhr.status === 200) {
          console.log(xhr.responseText);
        }
      };
      xhr.send(JSON.stringify({
        temperature: `${getRndInteger(20, 40)}`,
        humidity: `${getRndInteger(30, 90)}`,
        ppm: `${getRndInteger(100, 500)}`,
        dust: `${getRndInteger(50, 200)}`,
      }));
    }, 2000);
    
  </script>
</body>

</html>